---
title: ë¹ˆ(Bean), IoC ì»¨í…Œì´ë„ˆ, DI ì•Œì•„ë³´ê¸°
date: 2024-08-02
categories:
  - Java
tags:
  - Java
  - Spring
  - ioc
---
ì•ˆë…•í•˜ì„¸ìš” ğŸ¸  
ì˜¤ëŠ˜ì€ ìŠ¤í”„ë§ì„ ê³µë¶€í•˜ë©´ ë°˜ë“œì‹œ ë°°ìš°ëŠ” ê°œë…ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.
## Bean
ë¹ˆ(Bean)ì€ ioc ì»¨í…Œì´ë„ˆê°€ ê´€ë¦¬í•˜ëŠ” ê°ì²´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.  
ì¼ë°˜ì ìœ¼ë¡œ ê°ì²´ëŠ” ê°œë°œìê°€ ì§ì ‘ `new` í•´ì„œ ìƒì„±í•˜ì§€ë§Œ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œ ê°ì²´ëŠ” ìŠ¤í”„ë§ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.  
ì´ì²˜ëŸ¼ ê°ì²´ì˜ ê´€ë¦¬ë¥¼ ê°œë°œìê°€ ì•„ë‹Œ ìŠ¤í”„ë§ì´ í•˜ëŠ” ê²ƒì„ IoC(Inversion of Control) **ì œì–´ ì—­ì „**ì´ë¼ê³  í•©ë‹ˆë‹¤.  
ë¹ˆìœ¼ë¡œ ìƒì„±ëœ ê°ì²´ëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê°ì±„ë¡œì¨ DI, ì‹±ê¸€í†¤ íŒ¨í„´ì„ ë”°ë¥´ê²Œ ë©ë‹ˆë‹¤. 

## BeanFactory
ìŠ¤í”„ë§ì˜ ë¹ˆ(Bean) ì»¨í…Œì´ë„ˆì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ë£¨íŠ¸ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.  ë¹ˆì˜ ì •ì˜, ìƒì„± ë° ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤. DIë¥¼ ì§€ì›í•˜ê³  ë¹ˆì˜ ì„¤ì •ì— ë”°ë¼ ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.  
ë¬¸ì„œ ë‚´ì—ì„œëŠ” ë…ë¦½ëœ ê°ì²´ í˜¹ì€ ë‹¨ì¼ ê³µìœ  ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤ í•˜ë©°, ì—¬ê¸°ì„œ ë‹¨ì¼ ê³µìœ  ê°ì²´ë€ ì‹±ê¸€í†¤ íŒ¨í„´ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.   

++ë…ë¦½ëœ ê°ì²´ëŠ” í”„ë¡œí† íƒ€ì… íŒ¨í„´ êµ¬ì¡°ì—ì„œ ì‚¬ìš©ë˜ì§€ë§Œ ì €ëŠ” ì•„ì§ê¹Œì§€ í”„ë¡œí† íƒ€ì…ì˜ ì‚¬ìš© ê²½ìš°ë¥¼ ë³´ì§€ëª»í–ˆìŠµë‹ˆë‹¤.

## IoC (Inversion of Control)
IoCëŠ” ì§ì—­í•˜ë©´ **ì œì–´ì˜ ì—­ì „**ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  
ì•ì„œ ë¹ˆ(Bean)ì€ ê°œë°œìê°€ ì•„ë‹Œ ìŠ¤í”„ë§ì´ ê·¸ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•œë‹¤ í–ˆìŠµë‹ˆë‹¤.  ì´ì²˜ëŸ¼ ê°œë°œìì—ê²Œ ì œì–´ê¶Œì´ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆê³  ìŠ¤í”„ë§ì— ì œì–´ê¶Œì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì„ IoCë¼ê³  í•©ë‹ˆë‹¤.  
DIì™€ IoCëŠ” ë°€ì ‘í•œ ê´€ê³„ë¥¼ ê°–ëŠ” ìš©ì–´ì´ë‹¤ë³´ë‹ˆ í•­ìƒ í•¨ê»˜ ì„¤ëª…ë˜ê³  ì´ ë‘˜ì˜ ì„¤ëª… ë˜í•œ ì°¨ì´ê°€ ëª¨í˜¸í•œ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ DIì™€ IoCëŠ” ì—„ì—°íˆ ë‹¤ë¥¸ ê°œë…ì…ë‹ˆë‹¤. IoCëŠ” ê°ì²´ì˜ ì œì–´ íë¦„ì„ ìŠ¤í”„ë§ì´ ê°–ëŠ” ê²ƒì„ ëœ»í•˜ë©°, DIëŠ” ì˜ì¡´ì„±ì„ ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ëŠ” ê²ƒì…ë‹ˆë‹¤. DIëŠ” IoCë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

## IoC ì»¨í…Œì´ë„ˆ
IoCì»¨í…Œì´ë„ˆëŠ” DI ì»¨í…Œì´ë„ˆ, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ë“±ìœ¼ë¡œ ë¶ˆë¦¬ê¸°ë„ í•©ë‹ˆë‹¤.  í†µìƒì ìœ¼ë¡œ ì „ë¶€ ê°™ì€ ëœ»ì„ ì˜ë¯¸í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
IoC ì»¨í…Œì´ë„ˆëŠ” IoCë¥¼ ì‹¤ì œ êµ¬í˜„í•œ í™˜ê²½ ë“±ì„ í¬í•¨í•˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.  ì•ì„  *BeanFactory* ì™€ ê°™ì´ íŠ¹ì • í´ë˜ìŠ¤(í˜¹ì€ ì¸í„°í˜ì´ìŠ¤)ë¥¼ ì§€ì¹­í•˜ëŠ” ë§ì´ ì•„ë‹™ë‹ˆë‹¤.  
ì´ IoC ì»¨í…Œì´ë„ˆë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì‚¬ìš© ë˜ëŠ” ê²ƒì´ `BeanFactory`, `ApplicationContext` ì…ë‹ˆë‹¤.  
`ApplicationContext`ì€ `BeanFactory`ë¥¼ ìƒì†ë°›ê³  ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤.  ë‹¤ìŒì€ ê³µì‹ ë¬¸ì„œì—ì„œ ì„¤ëª…í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

>- Bean factory methods for accessing application components. Inherited from ListableBeanFactory.
>- The ability to load file resources in a generic fashion. Inherited from the ResourceLoader interface. 
>- The ability to publish events to registered listeners. Inherited from the ApplicationEventPublisher interface. 
>- The ability to resolve messages, supporting internationalization. Inherited from the MessageSource interface. 
>- Inheritance from a parent context. Definitions in a descendant context will always take priority. This means, for example, that a single parent context can be used by an entire web application, while each servlet has its own child context that is independent of that of any other servlet.

ë‚´ìš©ì„ ë²ˆì—­í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ìš”ì•½í•´ë³´ìë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  
- ë¹ˆ ì ‘ê·¼
- ë‹¤ì–‘í•œ íŒŒì¼ ì½ê¸°
- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì—ê²Œ ì´ë²¤íŠ¸ ì•Œë¦¼
- ë‹¤ì–‘í•œ ì–¸ì–´ ê´€ë¦¬ ì§€ì›

ì´ëŸ° IoC ì»¨í…Œì´ë„ˆë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ì˜ ìƒê´€ ê´€ê³„ í‘œ ì…ë‹ˆë‹¤.

![](https://wsrv.nl/?url=https://t1.daumcdn.net/cfile/tistory/9901FF425C5A840432)  
###### ì¶œì²˜ : [https://dog-developers.tistory.com/12](https://dog-developers.tistory.com/12)    

## DI(Dependency Injection)
ì§€ê²¹ë„ë¡ ë§ì´ ë“£ê³  ì¤‘ìš”í•˜ë‹¤ê³  ì–˜ê¸°í•˜ì§€ë§Œ ì‚¬ì‹¤ ì €ì²˜ëŸ¼ ê°œë°œ ê²½ë ¥ì´ ì§§ê³  í•™ìŠµì´ ë¶€ì¡±í•œ ê°œë°œìë“¤ì—ê²ŒëŠ” ì‹¤ì§ˆì ìœ¼ë¡œ ì™€ë‹¿ëŠ” ê°œë…ì€ ì•„ë‹ ê²ƒì…ë‹ˆë‹¤.  
ì™œëƒí•˜ë©´ ì´ë¯¸ ëª¨ë“  í™˜ê²½ì—ì„œ DIë¥¼ ì‚¬ìš©ì¤‘ì´ê¸° ë•Œë¬¸ì— ì´ê²ƒì´ ë‹¹ì—°í•œ ê²ƒì´ë¼ê³  ëŠê»´ì§€ê³  ì˜¤íˆë ¤ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°ì˜ ë¶ˆí¸í•¨ì„ ìƒê°í•˜ê¸°ê°€ ì–´ë µìŠµë‹ˆë‹¤.  
### DI(Dependency Injection)ë€?
DIëŠ” ì§ì—­í•˜ë©´ **ì˜ì¡´ì„± ì£¼ì…** ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. ì–´ë– í•œ ê°ì²´ì— ë‹¤ë¥¸ ê°ì²´ì˜ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.  
ê°œë°œ ìš©ì–´ê°€ ëŠ˜ ê·¸ë ‡ë“¯ *ì˜ì¡´ì„±*, *ì£¼ì…* ë“± ì–´ë ¤ìš´ ìš©ì–´ë“¤ ë¿ì…ë‹ˆë‹¤.   
ì¢€ ë” ì‰½ê²Œ ì„¤ëª… í•´ë³´ìë©´ `ê°ì²´ A`ê°€ `ê°ì²´ B`ë¥¼ í•„ìš”ë¡œ í•œë‹¤ë©´ `ê°ì²´ A`ëŠ” `ê°ì²´ B`ë¥¼ ë°˜ë“œì‹œ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— `ê°ì²´ A`ëŠ” `ê°ì²´ B`ë¥¼ ì˜ì¡´í•œë‹¤ê³  í‘œí˜„í•©ë‹ˆë‹¤.  
ê·¸ë¦¬ê³  `ê°ì²´ A` ë‚´ì—ì„œ `ê°ì²´ B`ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•œë‹¤ë©´ ì´ê²ƒì€ ì˜ì¡´ì„±ì€ ìˆì§€ë§Œ ì˜ì¡´ì„±ì„ *ì£¼ì…* í–ˆë‹¤ê³ ëŠ” í‘œí˜„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  
*ì£¼ì…* ì´ë€ ë§ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ ì™¸ë¶€ì˜ ìš”ì¸ìœ¼ë¡œ ì˜í–¥ì„ ë°›ëŠ” í–‰ìœ„ì´ê¸° ë•Œë¬¸ì—, ì˜ì¡´ì„±ì„ `ê°ì²´A`ê°€ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆê³  ì™¸ë¶€ì—ì„œ ì£¼ì… ë°›ì„ ê²½ìš°ë¥¼ ì–˜ê¸°í•©ë‹ˆë‹¤.

### DIì˜ ì´ì 
<small>ë„ì™€ì¤˜ìš” GPT!!ğŸ“¢</small>  
ê·¸ë˜ì„œ DIë¥¼ ì‚¬ìš©í•˜ê¸° ì „ê³¼ í›„ë¥¼ ë¹„êµí•´ì„œ ì‹¤ì§ˆì ìœ¼ë¡œ ì–´ë–¤ ì¥ì ì´ ìˆëŠ”ì§€ë¥¼ ë¹„êµí•´ë³´ê² ìŠµë‹ˆë‹¤.  

ë‹¤ìŒì˜ ì½”ë“œëŠ” DIë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œì˜ ì½”ë“œì…ë‹ˆë‹¤.  
```java
public class OrderService {
    private PaymentService paymentService;
    private ShippingService shippingService;

    public OrderService() {
        this.paymentService = new PaymentService();
        this.shippingService = new ShippingService();
    }

    public void processOrder(Order order) {
        paymentService.processPayment(order);
        shippingService.shipOrder(order);
    }
}

// ë‹¤ë¥¸ í´ë˜ìŠ¤ë“¤
public class PaymentService {
    public void processPayment(Order order) {
        // ê²°ì œ ì²˜ë¦¬ ë¡œì§
    }
}

public class ShippingService {
    public void shipOrder(Order order) {
        // ë°°ì†¡ ì²˜ë¦¬ ë¡œì§
    }
}
```

ë‹¤ìŒì€ DIë¥¼ ì‚¬ìš©í•œ ì´í›„ì˜ ì½”ë“œì…ë‹ˆë‹¤.
```java
// Service í´ë˜ìŠ¤
public class OrderService {
    private final PaymentService paymentService;
    private final ShippingService shippingService;

    @Autowired
    public OrderService(PaymentService paymentService, ShippingService shippingService) {
        this.paymentService = paymentService;
        this.shippingService = shippingService;
    }

    public void processOrder(Order order) {
        paymentService.processPayment(order);
        shippingService.shipOrder(order);
    }
}

// ë‹¤ë¥¸ í´ë˜ìŠ¤ë“¤
public class PaymentService {
    public void processPayment(Order order) {
        // ê²°ì œ ì²˜ë¦¬ ë¡œì§
    }
}

public class ShippingService {
    public void shipOrder(Order order) {
        // ë°°ì†¡ ì²˜ë¦¬ ë¡œì§
    }
}
```

DIë¥¼ ì‚¬ìš©í•´ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì ìœ¼ë¡œ
1. í´ë˜ìŠ¤ ë³€ê²½ì‹œ ìµœì†Œí•œì˜ ì½”ë“œ ìˆ˜ì •
2. í…ŒìŠ¤íŠ¸ ì‘ì„± ìš©ì´
ì •ë„ê°€ ìˆìŠµë‹ˆë‹¤.

ì‚¬ì‹¤ ì½”ë“œë§Œ ì´ë ‡ê²Œ ë†“ê³  ë³¸ë‹¤ë©´ ë‹¤ë¥¸ ë¶€ë¶„ì„ ê¼½ì•„ ë³¸ë‹¤ë©´ ë‘ ê°€ì§€ ì •ë„ì…ë‹ˆë‹¤.  
1. `@Autowired` ì–´ë…¸í…Œì´ì…˜ì˜ ì‚¬ìš© ì—¬ë¶€
2. ì§€ì—­ ë³€ìˆ˜ `paymentService`, `shippingService`ì˜ ìƒì„± ë°©ë²•ì˜ ì°¨ì´
í•˜ì§€ë§Œ ì´ ë³„ ê²ƒ ì•„ë‹Œ ëª‡ ì¤„ì´ í° ì°¨ì´ì˜€ìŠµë‹ˆë‹¤(!!)  

ë¨¼ì € ì²« ë²ˆì§¸ ì´ì ìœ¼ë¡œ ì–˜ê¸°í•œ **í´ë˜ìŠ¤ ë³€ê²½ì‹œ ìµœì†Œí•œì˜ ì½”ë“œ ìˆ˜ì •** ì— ëŒ€í•´ ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

ë¨¼ì €, ë‹¤ìŒì˜ ìƒí™©ì´ë¼ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.
1. `PaymentService` ë¥¼ `NewPaymentService`ë¡œ ë°”ê¿”ì•¼í•¨.
2. `PaymentService`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œê°€ 500ê°œê°€ ë„˜ìŒ.
ì´ëŸ° ìƒí™©ì¼ ë•Œ DIë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš° ê°œë°œìëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ ë‚´ ëª¨ë“  `new PaymentService()` êµ¬ë¬¸ì„ ì¼ì¼ì´ ì°¾ì•„ì„œ ìˆ˜ì • í•´ì•¼ í•©ë‹ˆë‹¤.  

DIë¥¼ ì‚¬ìš©í•œ ì½”ë“œì˜ ê²½ìš° `PaymentService`ì™€ `ShippingService`ì„ ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ê³  ìˆìŠµë‹ˆë‹¤.  
ì´ëŸ° ê²½ìš° `NewPaymentService`ë¥¼ êµ¬í˜„í•  ë•Œ `PaymentService`ë¥¼ ìƒì†ë°›ê²Œ í•˜ì—¬ `@Service` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë§Œìœ¼ë¡œ ìµœì†Œí•œì˜ ì½”ë“œ ë³€í™”ë¡œ ì‘ì—… í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ì´ì ìœ¼ë¡œ ì–˜ê¸°í•œ **í…ŒìŠ¤íŠ¸ ì‘ì„± ìš©ì´** ì— ëŒ€í•´ì„œë„ ë³´ê² ìŠµë‹ˆë‹¤.  
DIê°€ ì‚¬ìš©ë˜ì§€ ì•Šì€ ì½”ë“œì—ì„œëŠ” ì‹¤ì œë¡œ `PaymentService`ì™€ `ShippingService`ë¥¼ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë§Œì•½ `OrderService`ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ëª©ì ìœ¼ë¡œ í•  ê²½ìš°ì— ë¶ˆí¸í•¨ì´ ìˆìŠµë‹ˆë‹¤.  
ë°˜ë“œì‹œ  `PaymentService`ì™€ `ShippingService`ê°€ êµ¬í˜„ì´ ë˜ì–´ìˆì–´ì•¼ë§Œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  
ë°˜ë©´, DIë¥¼ ì‚¬ìš©í•œ ê²½ìš° Mock ê°ì²´ë¥¼ í†µí•´ ì‹¤ì œ ìœ„ ë‘ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ ë„ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.  


---
ì°¸ì¡° : [https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html)  
ì°¸ì¡° : [https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html)  
ì°¸ì¡° : [https://dog-developers.tistory.com/12](https://dog-developers.tistory.com/12)  \