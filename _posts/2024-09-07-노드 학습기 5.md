---
title: 노드도 한 걸음부터 5일차
date: 2024-09-07
categories:
  - javascript
  - Node.js
tags:
  - Node
  - javascript
---
안녕하세요 이번엔 노드 내장 모듈에 대해 공부하고 정리합니다.  

지난 번에는 내장 객체에 대해 알아봤습니다. 명칭이 비슷해서 했갈리네요.  

글에 앞서 내장 모듈에 대한 정보는 nodeJS 공식 문서에서도 자세히 나와 있습니다  
[https://nodejs.org/docs/latest/api/](https://nodejs.org/docs/latest/api/)  
자세히 하나씩은 못봤지만 훑어보니 `Crypto` 라는 모듈도 있네요. 이름을 보아하니 보안 모듈인 듯 싶은데 보안 모듈이 기본 내장 모듈이라니 대단하네요.

## os
운영 체제의 정보를 가지는 모듈입니다.  
내장 모듈이기 때문에 직접 만든 모듈처럼 경로를 입력하지 않고 이름만 입력해서 가져올 수 있습니다. 많은 기능들이 있는데 제가 눈여겨 봤던 기능만 정리해봅니다. 

- os.uptime() : os가 실행되고 흐른 시간을 확인합니다
- os.cpus() : os의 cpu 정보를 확인합니다.
- os.freemem() : 사용 가능한 메모리의 양을 바이트로 반환합니다.
- os.totalmem() : 시스템 메모리의 총 양을 바이트로 반환합니다.

## path
운영체제에 따라 경로를 표현하는 방법이 다른데 이를 핸들링 하는데 도움이 되는 모듈입니다.  
공식 문서에서는 운영체제를 Windows와 POSIX 로 구분하여 설명하고 있는데요. 서로 경로를 표현하는 방법이 다르기 때문입니다. 여기서 POSIX는 맥과 리눅스 등을 의미합니다.  
운영 체제에 따라 일부 기능은 서로 다른 결과를 반환하기 때문에 이 부분은 문서를 보고 확인하는 것이 좋겠습니다.

- `path.basename(path[,suffix])` : 경로의 마지막 부분을 반환하며 명시된 확장자는 제거합니다.
- `path.dirname(path)` : 경로의 디렉토리 이름까지를 반환합니다. `path.basename()` 과는 반대네요
- `path.extname(path)` : 확장자를 반환합니다.
- `path.join([...paths])` : 경로를 연결해서 반환합니다. `..` 같이 상위로 가는 요소가 있다면 이것도 처리해서 반환합니다. 이 때 절대 경로는 무시합니다.
- `path.resolve([...paths])` : `join()` 과 비슷하지만 절대경로를 포함해서 처리합니다.
- `문자열경로.split(path.sep)` : 경로의 세그먼트 구분 기호를 기준으로 문자열을 나눈 배열을 반환합니다.
- `path.normalize(path)` : 주어진 `path` 를 정규화 합니다. 

## url
URL을 핸들링 하는데에 도움이 되는 모듈입니다. 기존에는 노드에서 독자적으로 사용하던 url 처리 방식이 있고 WHATWG 방식이 있는데요 현재는 WHATWG 방식을 사용합니다.
URL 처리에 알기전에 앞서 URL의 구조에 대해 알아 놓을 필요가 있는데요  
URL은 다음의 구조를 가집니다.  

![](assets/img/screenshot/Pasted%20image%2020240907203707.png)  




하나의 URL에 이렇게 복잡한 구조가! 하지만 url 모듈을 이용한다면 URL에 대해 일일이 파악하고 분석하지 않아도 보기 좋게 정리할 수 있습니다.  

url 모듈을 사용해서 로그를 확인해보기 위한 예제 코드입니다. 

```javascript
const url = require('url');

const {URL} = url;  

const myURL = new URL('htt://www.github.co.kr/book/bookList.aspx?sercate1=001001000#anchor');

console.log('new URL : ', myURL);

console.log('url.format() : ', url.format(myURL));
```

log에 남은 결과입니다.  

```
new URL :  URL {
  href: 'htt://www.github.co.kr/book/bookList.aspx?sercate1=001001000#anchor',
  origin: 'null',
  protocol: 'htt:',
  username: '',
  password: '',
  host: 'www.github.co.kr',
  hostname: 'www.github.co.kr',
  port: '',
  pathname: '/book/bookList.aspx',
  search: '?sercate1=001001000',
  searchParams: URLSearchParams { 'sercate1' => '001001000' },
  hash: '#anchor'
}
url.format() :  htt://www.github.co.kr/book/bookList.aspx?sercate1=001001000#anchor
```

`myURL` 객체를 log에 찍어보니 구조별로 나오는 것을 확인할 수 있습니다.  
여기서 `searchParams` 는 `search` 의 값을 객체화 한 것 입니다.

### searchParams
url의 searchParams에는 사용할 수 있는 다양한 기능이 있습니다.

- 