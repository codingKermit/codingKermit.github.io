---
title: ë…¸ë“œ í•™ìŠµ 19ì¼ì°¨
date: 2025-02-08
categories:
  - ê³µë¶€ì¼ê¸°
  - Node.js
tags:
  - Node
  - javascript
---
ì•ˆë…•í•˜ì„¸ìš” ğŸ¸

ì˜¤ëŠ˜ì€ multer ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ ì—…ë¡œë“œ ë° ì œì–´ë¥¼ ê³µë¶€í–ˆìŠµë‹ˆë‹¤.  

multer ë¯¸ë“¤ì›¨ì–´ë¥¼ ê³µë¶€í•˜ê³  ì‚¬ìš©í•´ë³´ë©´ì„œ ì¸í„°í˜ì´ìŠ¤ì™€ ê³µì‹ ë¬¸ì„œë¥¼ ë³´ê³  ë¶„ì„í•œ ë‚´ìš©ì€ ì•„ë˜ì˜ ê¸€ì— ì •ë¦¬í•´ë´¤ìŠµë‹ˆë‹¤.  

[multer ë¯¸ë“¤ì›¨ì–´ ì •ë¦¬](https://codingkermit.github.io/posts/multer/)  

---

ì˜¤ëŠ˜ í•™ìŠµ ì¤‘ ê³¼ê±° ì‹œí€„ë¼ì´ì¦ˆ ëª¨ë¸ì— ëŒ€í•´ ê³µë¶€í•˜ë©´ì„œ ë†“ì¹˜ê³  ìˆì—ˆë˜ ë¶€ë¶„ì´ ìˆì–´ ë‹¤ì‹œ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.  

#### ë¬¸ì œ
belongsTo í•œ í…Œì´ë¸”ì— ìƒê¸°ëŠ” ì»¬ëŸ¼ì˜ ì´ë¦„ì€ ì–´ë–»ê²Œ ë””í´íŠ¸ ê°’ì„ ê°€ì§€ëŠ”ê°€?

#### í’€ì´
ì‹œí€„ë¼ì´ì¦ˆ ëª¨ë¸ê°„ì˜ ê´€ê³„ë¥¼ ëª…ì‹œí•˜ëŠ” í•¨ìˆ˜ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.

- hasOne
- hasMany
- belongsTo
- blongsToMany
ì—¬ê¸°ì„œ ì €ëŠ” belongsTo ì˜ ì‚¬ìš©ì— ëŒ€í•´ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.  

ì˜ˆì‹œ ìƒí™©)  
User ëª¨ë¸ê³¼ Comment ëª¨ë¸ì´ ìˆì„ ë•Œ ì‚¬ìš©ìëŠ” Nê°œì˜ ëŒ“ê¸€ì„ ê°€ì§ˆ ìˆ˜ ìˆì§€ë§Œ ëŒ“ê¸€ì˜ ì‘ì„±ìëŠ” 1ëª…ì…ë‹ˆë‹¤.  
ê·¸ë ‡ê¸° ë•Œë¬¸ì— Userì™€ Commet ëŠ” 1:N ê´€ê³„ì…ë‹ˆë‹¤.  
ì´ ë•Œ ë‘ ëª¨ë¸ì˜ ê´€ê³„ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.  
- UserëŠ” Comment ë¥¼ hasOne í•©ë‹ˆë‹¤.
- CommentëŠ” Userë¥¼ belongsTo í•©ë‹ˆë‹¤. 

Comment ì—ì„œ belongsTo í•˜ë©´ ì‹¤ì œ DBì˜ comment í…Œì´ë¸”ì—ëŠ” ê´€ë ¨í•œ ì»¬ëŸ¼ì´ ì¶”ê°€ê°€ ë©ë‹ˆë‹¤.  
belongsTo() ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¸ì¡°í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.  

```javascript
  /**
   * Creates an association between this (the source) and the provided target. The foreign key is added on the
   * source.
   *
   * Example: `Profile.belongsTo(User)`. This will add userId to the profile table.
   *
   * @param target The model that will be associated with hasOne relationship
   * @param options Options for the association
   */
  public static belongsTo<M extends Model, T extends Model>(
    this: ModelStatic<M>, target: ModelStatic<T>, options?: BelongsToOptions
  ): BelongsTo<M, T>;
```

ì´ë•Œ, belongsTo ì—ëŠ” ë‘ ê°€ì§€ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
- target - ì—°ê²°í•  ëª¨ë¸
- options - ì˜µì…˜

ìƒì† êµ¬ì¡°ë¥¼ ë”°ë¼ê°€ë³´ë©´ options ì˜ íƒ€ì…ì¸ `BelongsToOptions` ì€ `AssociationOptions` ë¥¼ í™•ì¥í•œ íƒ€ì…ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

ë“œë””ì–´ ì—¬ê¸°ì— ë¬¸ì œì˜ ì›ì¸ì´ ì˜µì…˜ì´ ìˆìŠµë‹ˆë‹¤.
- foreignKey` 

foreignKeyëŠ” í•´ë‹¹ í…Œì´ë¸”ì—ì„œ ì™¸ë˜ í‚¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ì»¬ëŸ¼ì…ë‹ˆë‹¤.  
ì‹¤ì§ˆì ìœ¼ë¡œ targetKeyë¥¼ ì°¸ì¡°í•˜ê²Œ ë©ë‹ˆë‹¤.  
ê¸°ë³¸ ê°’ì€ **ëŒ€ìƒ ëª¨ë¸ëª… + ëŒ€ìƒ ëª¨ë¸ primary Key** ì…ë‹ˆë‹¤.  

ì›ë¬¸ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.  

```javascript
  /**
   * The name of the foreign key in the target table or an object representing the type definition for the
   * foreign column (see `Sequelize.define` for syntax). When using an object, you can add a `name` property
   * to set the name of the column. Defaults to the name of source + primary key of source
   */
  foreignKey?: string | ForeignKeyOptions;
```


#### í•´ë‹µ

ëª¨ë¸ê°„ì˜ ê´€ê³„ë¥¼ ì •ì˜í•˜ë©´ì„œ ì˜µì…˜ ì¤‘ì— foreignKey ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ í…Œì´ë¸”ì— ì¶”ê°€ë˜ëŠ” ì»¬ëŸ¼ì˜ ì´ë¦„ì€ **ëª¨ë¸ëª… + ëª¨ë¸ì˜ primary key** ê°€ ëœë‹¤.