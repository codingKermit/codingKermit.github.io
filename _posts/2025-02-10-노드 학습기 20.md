---
title: ë…¸ë“œ í•™ìŠµ 20ì¼ì°¨
date: 2025-02-10
categories:
  - ê³µë¶€ì¼ê¸°
  - Node.js
tags:
  - Node
  - javascript
---
ì•ˆë…•í•˜ì„¸ìš” ğŸ¸

ì˜¤ëŠ˜ë„ ì‹œí€„ë¼ì´ì¦ˆì™€ ê´€ë ¨í•´ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ ìˆì–´ì„œ ì •ë¦¬í•©ë‹ˆë‹¤.

#### ë¬¸ì œ
ì‹œí€„ë¼ì´ì¦ˆì—ì„œ ëª¨ë¸ê°„ì˜ ê´€ê³„ë¥¼ ì •ì˜í•˜ë©´ ìƒê¸°ëŠ” í•¨ìˆ˜ëŠ” ë‹¨ìˆ˜/ë³µìˆ˜ì˜ ê´€ê³„ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëŠ”ê°€?  

#### í’€ì´

ì‚¬ìš©ìê°€ ì„œë¡œ íŒ”ë¡œìš° í•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ê³  ë°°ìš°ëŠ” ì¤‘, ì•„ë˜ì™€ ê°™ì´ ëª¨ë¸ì˜ ê´€ê³„ë¥¼ ì •ì˜ í–ˆìŠµë‹ˆë‹¤.  

```javascript
//ìƒëµ
    static associate(db){
        db.User.hasMany(db.Post);
        db.User.belongsToMany(db.User,{ // íŒ”ë¡œì›Œ -> ë‚˜ë¥¼ íŒ”ë¡œìš° í•˜ëŠ” ì‚¬ëŒ
            foreignKey : 'followingId', // íŒ”ë¡œìš° ë‹¹í•˜ëŠ” ì‚¬ëŒ
            as : 'Followers', // íŒ”ë¡œìš° í•˜ëŠ” ì‚¬ëŒë“¤
            through : 'Follow'
        });
        db.User.belongsToMany(db.User,{ // íŒ”ë¡œì‰ -> ë‚´ê°€ íŒ”ë¡œìš° í•˜ëŠ” ì‚¬ëŒ
            foreignKey : 'followerId', // íŒ”ë¡œìš° í•˜ëŠ” ì‚¬ëŒ
            as : 'Followings', // íŒ”ë¡œìš° ë‹¹í•˜ëŠ” ì‚¬ëŒ 
            through:'Follow'
        }); 
    }
}
```

ì—¬ê¸°ì„œ `belongsToMany()` ë¥¼ í†µí•´ User ê°ì²´ëŠ” ë‹¤ìŒì˜ í•¨ìˆ˜ë“¤ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤.  
- `as : 'Followers'` êµ¬ë¬¸ì„ í†µí•´ ìƒì„±ë˜ëŠ” í•¨ìˆ˜
	- `getFollowers()`
	- `countFollowers()`
	- `addFollower()`
	- `addFollowers()`
	- `setFollowers()`
	- `hasFollower()`
	- `hasFollowers()`
	- `removeFollower()`
	- `removeFollowers()`
	- `createFollower()`
- `as : 'Followings'` êµ¬ë¬¸ì„ í†µí•´ ìƒì„±ë˜ëŠ” í•¨ìˆ˜
	- `getFollowings()`
	- `countFollowings()`
	- `addFollowing()`
	- `addFollowings()`
	- `setFollowings()`
	- `hasFollowing()`
	- `hasFollowings()`
	- `removeFollowing()`
	- `removeFollowings()`
	- `createFollowing()`

ì‹œí€„ë¼ì´ì¦ˆëŠ” ìœ„ì™€ ê°™ì´ ëª¨ë¸ ê°„ì˜ ê´€ê³„ë¥¼ ì •ì˜í•˜ë©´ ê´€ê³„í˜• ì¿¼ë¦¬ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  
ì˜ˆì‹œë¡œ ì‚¬ìš©í•œ `belongsToMany()` ì™€ ë™ì¼í•˜ê²Œ `hasOne()` , `hasMany()` , `belongsTo()` ë„ ë™ì¼í•˜ê²Œ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ë©°, ê°ê°ì˜ ê´€ê³„ê°€ ì–´ë–¤ ì¢…ë¥˜ì˜ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ”ì§€ëŠ” ê³µì‹ ë¬¸ì„œì— ìˆìŠµë‹ˆë‹¤.  

ì°¸ì¡°í•œ ê³µì‹ ë¬¸ì„œ ë‚´ìš© : [https://sequelize.org/docs/v6/core-concepts/assocs/?utm_source=chatgpt.com#special-methodsmixins-added-to-instances](https://sequelize.org/docs/v6/core-concepts/assocs/?utm_source=chatgpt.com#special-methodsmixins-added-to-instances)  

ì—¬ê¸°ì„œ ì €ëŠ” ì–´ë–»ê²Œ ì‹œí€„ë¼ì´ì¦ˆê°€ ë‚´ê°€ ì „ë‹¬í•œ ê°’ì´ ë³µìˆ˜í˜•ì¸ì§€ ë‹¨ìˆ˜í˜•ì¸ì§€ë¥¼ êµ¬ë¶„í•˜ê³  í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ”ì§€ê°€ ê¶ê¸ˆí–ˆìŠµë‹ˆë‹¤.  

#### í•´ë‹µ
sequelize ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ **inflection** ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ë‹¨ì–´ì˜ ë³µìˆ˜/ë‹¨ìˆ˜ë¥¼ íŒŒì•…í•˜ê³  í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  
ë¶ˆê·œì¹™ ë³µìˆ˜ ëª…ì‚¬ë„ inflections ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ì— ì •ì˜ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ë‹¨ìˆ˜/ë³µìˆ˜ë¥¼ íŒë‹¨í•˜ê³  ë³€í™˜í•˜ì¤ë‹ˆë‹¤.  
ê·¸ë¦¬ê³  sequelize ëŠ” ì´ ê²°ê³¼ë¥¼ í†µí•´ í•¨ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  

---
ì°¸ì¡° : [https://sequelize.org/docs/v6/core-concepts/assocs/#special-methodsmixins-added-to-instances](https://sequelize.org/docs/v6/core-concepts/assocs/#special-methodsmixins-added-to-instances)  
